/*VARIABLES DE COLOR*/
    :root { 
        --background-color: #fff7f1; 
        --primary-color: #c2976a8f; /* Un tono más claro/transparente */
        --secondary-color: #c2976a; /* El color principal de acento */
        --principal-text: #333;
        --secondary-text: #666;
        
        /* Variables de Bootstrap adaptadas a nuestra paleta */
        --bs-body-bg: var(--background-color);
        --bs-primary: var(--secondary-color);
        --bs-secondary: #6c757d; 
        --bs-danger: #dc3545; 
        --bs-body-color: var(--principal-text);
        
        /* Color de fondo para el modal de Login */
        --login-bg-color: #f7f3ed; 
    }
/* SETEO GLOBAL */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
/* ESTILOS GENERALES DEL BODY */
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background-color: var(--background-color);
        line-height: 1.4; 
    }

    .text-primary {
        color: var(--secondary-color) !important;
    }
    .border-primary {
        border-color: var(--secondary-color) !important;
    }
    /* Anulación de colores de Bootstrap para usar la paleta */
    .btn-primary {
        --bs-btn-bg: var(--secondary-color) !important;
        --bs-btn-border-color: var(--secondary-color) !important;
        
        --bs-btn-hover-bg: var(--primary-color) !important;
        --bs-btn-hover-border-color: var(--primary-color) !important;
        
        /* MODIFICACIÓN CLAVE: Anular el color azul en los estados activo y enfocado */
        --bs-btn-active-bg: var(--secondary-color) !important;
        --bs-btn-active-border-color: var(--secondary-color) !important;
        --bs-btn-focus-shadow-rgb: 194, 151, 106; /* Usar el color secundario (194, 151, 106) */
        
        --bs-btn-color: var(--background-color) !important;
    }

    .btn-secondary {
        --bs-btn-color: var(--principal-text) !important;
        --bs-btn-bg: var(--background-color) !important;
        --bs-btn-border-color: var(--secondary-color) !important;
        --bs-btn-hover-bg: var(--primary-color) !important;
        --bs-btn-hover-border-color: var(--secondary-color) !important;
    }
    
    /* CORRECCIÓN FINAL: Botón Outline Primary ("Iniciar Sesión") */
    .btn-outline-primary {
        --bs-btn-color: var(--secondary-color) !important;
        --bs-btn-border-color: var(--secondary-color) !important;
        
        --bs-btn-hover-bg: var(--primary-color) !important;
        --bs-btn-hover-border-color: var(--primary-color) !important;
        --bs-btn-hover-color: var(--principal-text) !important; 
        
        --bs-btn-active-bg: var(--secondary-color) !important;
        --bs-btn-active-border-color: var(--secondary-color) !important;
    }
    
    /* Anular el color azul de fondo en el hover y active de los ítems del Dropdown */
    .dropdown-item:hover,
    .dropdown-item:focus {
        /* Usar tu color primario (marrón claro) como fondo de hover */
        background-color: var(--primary-color) !important;
        /* Asegurar que el texto sea oscuro sobre el fondo claro */
        color: var(--principal-text) !important; 
    }

    /* Regla específica para el enlace de Cerrar Sesión, si usaste text-danger */
    .dropdown-item.text-danger:hover {
        /* Mantener el color de fondo personalizado, pero el texto rojo no se invierte tanto */
        background-color: var(--primary-color) !important;
        color: var(--bs-danger) !important; /* Mantiene el color de peligro */
    }

    /* Opcional: Para asegurar que el borde de foco del dropdown desaparezca */
    .dropdown-menu {
        border-color: var(--primary-color) !important;
    }

/* ------------------------------- SIDEBAR (BARRA LATERAL FIJA - Desktop) ------------------------------- */
    .sidebar-fixed {
        position: fixed; 
        left: 0; 
        top: 0; 
        width: 250px; /* Ancho fijo para desktop */
        height: 100vh; 
        background-color: var(--background-color); 
        box-shadow: 2px 0 5px rgba(0,0,0,0.05);
        border-right: 1px solid var(--primary-color);
        z-index: 1000; 
        padding: 1rem 0;
        transition: all 0.3s ease;
    }
    
    .app-logo {
        height: 40px; 
        width: 40px;  
        border-radius: 50%;
        box-shadow: 0 0 8px rgba(0,0,0,0.1); 
    }

    .app-logo img {
        width: 100%;
        height: 100%;
        object-fit: cover; 
    }

    /* Estilos de navegación en el sidebar fijo y Offcanvas */
    .sidebar-fixed .list-group-item {
        border-radius: 0; 
        border-left: 3px solid transparent; 
        font-size: 1.05rem;
    }

    /* Corrección de color y eliminación de borde azul para el item activo */
    .list-group-item-action:focus, 
    .list-group-item-action.active:focus {
        box-shadow: none !important;
        border-color: transparent !important;
    }
    
    .list-group-item-action.active {
        background-color: var(--secondary-color) !important; 
        color: var(--background-color) !important;
        border-color: transparent !important; 
        box-shadow: none !important; 
    }
    
    .nav-item {
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 12px;
        color: var(--secondary-text);
        font-size: 14px;
        transition: color 0.2s;
        cursor: pointer;
    }
    .nav-item:hover { text-decoration: none; color: var(--primary-color) !important; }
    .nav-icon { width: 20px; height: 20px; }

/* ------------------------------- HEADER & MAIN CONTENT WRAPPER ------------------------------- */

    /* El contenedor que envuelve el Header y Main Content */
    .main-content-offset {
        transition: margin-left 0.3s ease; 
        margin-left: 0; 
        width: 100%;
    }

    .header {
        position: sticky; 
        top: 0;
        z-index: 999;
        background: var(--background-color);
        border-bottom: 1px solid var(--primary-color);
    }
    
    .search-input {
        border: 2px solid var(--primary-color);
        border-radius: 24px;
        box-shadow: none !important;
    }

    .buscarPor-btn {
        background: var(--background-color);
        border: 1px solid var(--secondary-text);
        color: var(--secondary-text);
        border-radius: 20px;
    }
    .buscarPor-btn.active {
        background: var(--secondary-color);
        color: var(--background-color);
        border-color: var(--secondary-color);
    }

/* ------------------------------- CONTENT GRID & CARDS ------------------------------- */
    .pin-card {
        background: var(--background-color);
        border-radius: 16px; 
        margin-bottom: 1rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        transition: all 0.2s ease; 
        overflow: hidden;
    }
    .pin-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    .loading-spinner {
        border: 3px solid var(--background-color);
        border-top: 3px solid var(--secondary-color);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto 16px;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

/* ------------------------------- MODAL LOGIN/SIGNUP (Pestañas de BS5) ------------------------------- */
    .custom-login-card {
        background-color: var(--login-bg-color) !important;
        border: 1px solid var(--primary-color) !important;
        border-radius: 20px !important;
    }
    
    .custom-login-tabs .nav-link { color: var(--principal-text); font-weight: bold; }
    .custom-login-tabs .nav-link.active {
        color: var(--background-color) !important;
        background: var(--secondary-color) !important;
        border-radius: 10px;
    }

    .form-style { 
        padding-left: 2.5rem !important;
        background: var(--background-color) !important;
        border: 1px solid var(--primary-color) !important;
        border-radius: 6px !important;
        height: 45px;
        font-size: 0.8rem;
    }
    
    .input-icon, .toggle-pass { position: absolute; top: 50%; transform: translateY(-50%); color: var(--secondary-color); font-size: 1rem; z-index: 5; }
    .input-icon { left: 0.8rem; }
    .toggle-pass { right: 0.8rem; cursor: pointer; font-size: 1.3rem; }

    .error { color: #852424; font-size: 0.7rem; padding: 0.4rem 0.8rem; border-left: 0.2rem solid #ff4d4d; background-color: rgba(231, 54, 54, 0.219); border-radius: 6px; display: none; }
    .error.visible-error { display: block; }
    input.form-style.errorInput { border-color: var(--bs-danger) !important; }
    
/* ------------------------------- CARGA DE ARCHIVOS (MODAL Publicar) ------------------------------- */

    /* Estilo del contenedor de dropzone */
    .file-upload {
        border: 2px dashed var(--primary-color);
        padding: 32px;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
        /* asegurar que la clase del HTML .bg-white se vea bien */
        background-color: white; 
    }

    /* Estilo cuando está arrastrando o enfocado (usando color principal) */
    .file-upload:hover,
    .file-upload.dragover { 
        border-color: var(--secondary-color) !important; /* Color primario del sitio */
        background-color: var(--background-color) !important; 
    }
    .upload-icon {
        color: var(--secondary-color); /* Color del icono */
    }

/* ------------------------------- MEDIA QUERIES PARA RESPONSIVE ------------------------------- */
    
    @media (min-width: 992px) { /* Desktop: Mover el Header y el Contenido 250px a la derecha */
        
        .header {
            margin-left: 250px; 
            width: calc(100% - 250px);
        }
        
        .main-content-offset {
            margin-left: 250px;
        }
        
        /* Ocultar el botón hamburguesa en desktop */
        .navbar-toggler {
            display: none !important;
        }
    }

    @media (max-width: 991px) { /* Móvil: Ocultar Sidebar fijo y liberar espacio */
        
        .sidebar-fixed {
            display: none !important; /* Ocultar el sidebar fijo en móvil */
        }
    }
    
    /* Estilos del Offcanvas (Menú Móvil) */
    .offcanvas {
        width: 250px; 
    }